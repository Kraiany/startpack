---
layout: layout
title: Коротко про Мідлмен

---

## Структура директорій

Мідлмен встановлює свій набір правил, погоджень щодо розташування файлів та структури директорій проекту. Нижче показаний типовий вигляд директорій мінімального проекту. В даному випадку зразок веб майданчика складається з однієї єдиної сторінки `index.html`
    

    .
    ├── build
    ├── config.rb
    ├── data
    │   └── site.yml
    └── source
        ├── assets
        │   ├── fonts
        │   ├── images
        │   │   ├── new_fork.png
        │   │   └── new_repo.png
        │   ├── javascripts
        │   │   ├── all.js
        │   │   ├── bootstrap.min.js
        │   │   └── jquery-1.9.1.min.js
        │   └── stylesheets
        │       ├── all.css
        │       ├── bootstrap.min.css
        │       └── style.css.scss
        ├── index.html.md
        ├── layouts
        │   └── layout.html.slim
        └── partials
            ├── _footer.html.slim
            ├── _navigation.html.slim
            └── _toc.html.slim

- **build** --- ця директорія містить (буде містити) згенеровані файли вашого проекту. Для публікації сайту на вебі, просто скопіюйте цю директорію як вона є на веб сервер.
- **config.rb** --- конфігурація проекту Мідлмен.
- **source** --- вихідні тексти веб майданчика, включає активи (графіку, шрифти, CSS стилі), шаблони та макети сторінки, тексти.
- **source/assets** --- активи: графіка, Javascript та CSS
- **source/assets/javascripts** --- файли Javascript
- **source/assets/stylesheets** --- файли CSS стилів
- **source/assets/image** --- графічні файли
- **layouts** --- шаблони макети майданчику.
- **partials** --- "часткові" шаблони. Часто вживані елементи макета можна помістити в окремий файл для того, щоб їх можна було включати в різні частини макета. За домовленістю, яку Мідлмен успадкував від Ruby-on-rails, назви файлів часткових шаблонів мають починатися з символа підкреслення ("`_`"). В нашому випадку використовуються три файли часткових шаблонів `_footer.html.slim`, `_navigation.html.slim` та  `_toc.html.slim` для підвалу сторінки, меню навігації та таблиці змісту, відповідно.
- **data** --- структуровані дані сторінки. Структури даних можуть бути створені у форматах JSON або YAML. При макетуванні сторінки ці дані можна включати в файли шаблонів, таким чином всі дані про майданчик (як, наприклад, ім'я та координати автора, категоризацію, тощо) можна тримати в одному і місці і використовувати їх за потребою.

### Препроцесори та попередня обробка

Деякі файли у Мідлмені можуть мати по кілька розширень (типів файла). 

Як, наприклад, вже згадані файли часткових шаблонів мають по два розширення: `.html.slim` Ці типи вказують Мідлмену: у якому форматі має бути остаточно згенегований файл, та яким(якими) препроцесором потрібно його обробляти. В нашому випадку, Мідлмен повинен створити файл у форматі HTML, а початковий вихідний текст файлу --- у форматі [SLIM](http://slim-lang.com/). 

Так само для генерування файлів стилів CSS можуть використовуватися або [SASS (SCSS)](http://sass-lang.com/), або [LESS](http://lesscss.org/), тож відповідно файли в директорії `source/assets/stylesheets` будуть або мати типи `.css.scss`, `.css.sass` чи `.css.less`.

Теж саме стосується не тільки шаблонів, а й власне змісту майданчику. Більшість текстових файлів створюються у форматі Markdown, тож текстові файли вмісту мають тип `.html.md`

Мідлмен може використовувати більше одного препроцесора для генерації остаточного файла, в такому випадку Міддлмен читає розширення файлів зправа наліво і застосовує препроцесори по черзі. В даному проекті подвійний препроцесор використовується у файлі [`first_steps.html.md.erb`](https://github.com/dmytro/startpack/blob/master/source/first_steps.html.md.erb#L47), де для функції-помічника використовується формат ERB, а після нього --- Markdown.

